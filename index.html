<!DOCTYPE html>
<html lang="tr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<title>Beyza Zikirmatik</title>

<style>
:root{
  --bg:#f6f6f8;
  --card:#ffffff;
  --text:#222;
  --accent:#e7b6c8;
}
body.dark{
  --bg:#232334;
  --card:#2f2f45;
  --text:#f1f1f1;
  --accent:#c792b2;
}

*{box-sizing:border-box}
body{
  margin:0;
  font-family:-apple-system,BlinkMacSystemFont;
  background:linear-gradient(180deg,var(--bg),#00000008);
  color:var(--text);
}

header{
  display:flex;
  align-items:center;
  gap:12px;
  padding:14px 16px;
  font-weight:600;
}
.menu{font-size:22px;cursor:pointer}

#drawer{
  position:fixed;
  inset:0 auto 0 0;
  width:260px;
  background:var(--card);
  box-shadow:4px 0 25px rgba(0,0,0,.25);
  transform:translateX(-100%);
  transition:.3s;
  z-index:10;
  padding:16px;
  overflow-y:auto;
}
#drawer.open{transform:translateX(0)}

.drawer-title{font-weight:600;margin-bottom:10px}
.drawer-item{
  padding:10px;
  border-radius:10px;
  cursor:pointer;
  font-size:14px;
}
.drawer-item:hover{
  background:var(--accent);
  color:#fff;
}
.add-btn{
  font-size:14px;
  margin-bottom:12px;
  color:var(--accent);
  cursor:pointer;
}

main{
  padding:24px;
  text-align:center;
}

.esma-name{
  font-size:18px;
  font-weight:600;
  margin-bottom:4px;
  min-height:22px;
}
.esma-desc{
  font-size:13px;
  opacity:.7;
  min-height:18px;
}

.counter{
  width:240px;
  height:240px;
  margin:26px auto 16px;
  border-radius:50%;
  background:radial-gradient(circle at top,var(--card),var(--accent));
  box-shadow:
    inset 0 0 35px rgba(255,255,255,.45),
    0 14px 35px rgba(0,0,0,.35);
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:52px;
  font-weight:600;
  user-select:none;
}

/* TESBİH */
.tesbih{
  display:flex;
  justify-content:center;
  gap:6px;
  margin-bottom:22px;
  flex-wrap:wrap;
}
.bead{
  width:10px;
  height:10px;
  border-radius:50%;
  background:rgba(0,0,0,.15);
  box-shadow:inset 0 0 4px rgba(255,255,255,.4);
  transition:.2s;
}
.dark .bead{
  background:rgba(255,255,255,.2);
}
.bead.active{
  background:var(--accent);
  box-shadow:0 0 8px var(--accent);
}

button{
  padding:10px 20px;
  border:none;
  border-radius:14px;
  background:var(--accent);
  color:#fff;
  font-size:15px;
}
.toggle{
  margin-top:22px;
  font-size:14px;
  opacity:.7;
  cursor:pointer;
}
</style>
</head>

<body>

<header>
  <div class="menu" onclick="toggleDrawer()">☰</div>
  Beyza
</header>

<div id="drawer">
  <div class="drawer-title">Zikirler</div>
  <div class="add-btn" onclick="addCustom()">+ Özel Zikir</div>
  <div id="list"></div>
</div>

<main>
  <div class="esma-name" id="name"></div>
  <div class="esma-desc" id="desc"></div>

  <div class="counter" onclick="increment()">
    <span id="count">0</span>
  </div>

  <div class="tesbih" id="tesbih"></div>

  <button onclick="reset()">Sıfırla</button>
  <div class="toggle" onclick="toggleMode()">Dark / Light</div>
</main>

<script>
const TESBIH_COUNT = 33;

const esmalar=[
 {n:"Er-Rahman",d:"Tüm mahlûkata merhamet eden"},
 {n:"Er-Rahim",d:"Ahirette müminlere merhamet eden"},
 {n:"El-Melik",d:"Mülkün tek sahibi"},
 {n:"El-Kuddus",d:"Her türlü eksikten uzak"},
 {n:"Es-Selam",d:"Esenlik veren"},
 // diğerleri aynı mantıkla devam
];

let current={type:"GENEL",name:"GENEL"};

function key(){return "zikir_"+current.type+"_"+current.name}

function load(){
 const c = Number(localStorage.getItem(key())||0);
 document.getElementById("count").innerText = c;
 document.getElementById("name").innerText =
   current.type==="ESMA"?current.name:"";
 document.getElementById("desc").innerText =
   current.type==="ESMA"?current.desc||"":"";
 drawTesbih(c);
}

function increment(){
 let c=Number(localStorage.getItem(key())||0)+1;
 localStorage.setItem(key(),c);
 document.getElementById("count").innerText=c;
 drawTesbih(c);
}

function reset(){
 localStorage.setItem(key(),0);
 load();
}

function drawTesbih(count){
 const t=document.getElementById("tesbih");
 t.innerHTML="";
 const active = count % TESBIH_COUNT;
 for(let i=0;i<TESBIH_COUNT;i++){
  const b=document.createElement("div");
  b.className="bead"+(i<active?" active":"");
  t.appendChild(b);
 }
}

function toggleDrawer(){
 document.getElementById("drawer").classList.toggle("open");
}

function select(obj){
 current=obj;
 toggleDrawer();
 load();
}

function addCustom(){
 let name=prompt("Zikir adı:");
 if(!name) return;
 let list=JSON.parse(localStorage.getItem("custom")||"[]");
 list.push(name);
 localStorage.setItem("custom",JSON.stringify(list));
 render();
}

function render(){
 let l=document.getElementById("list");
 l.innerHTML="";
 l.append(item({type:"GENEL",name:"GENEL"}));
 esmalar.forEach(e=>l.append(item({type:"ESMA",name:e.n,desc:e.d})));
 JSON.parse(localStorage.getItem("custom")||"[]")
   .forEach(c=>l.append(item({type:"CUSTOM",name:c})));
}

function item(obj){
 let d=document.createElement("div");
 d.className="drawer-item";
 d.innerText=obj.name;
 d.onclick=()=>select(obj);
 return d;
}

function toggleMode(){
 document.body.classList.toggle("dark");
 localStorage.setItem("mode",document.body.classList.contains("dark"));
}

if(localStorage.getItem("mode")==="true")
 document.body.classList.add("dark");

render(); load();
</script>

</body>
</html>